<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.2">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2G54RXWD4D"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-2G54RXWD4D",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="DataHub" href="/opensearch.xml"><title data-react-helmet="true">Extending the Metadata Model | DataHub</title><meta data-react-helmet="true" property="og:url" content="https://datahubproject.io/docs/metadata-modeling/extending-the-metadata-model"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Extending the Metadata Model | DataHub"><meta data-react-helmet="true" name="description" content="You can extend the metadata model by either creating a new Entity or extending an existing one. Unsure if you need to"><meta data-react-helmet="true" property="og:description" content="You can extend the metadata model by either creating a new Entity or extending an existing one. Unsure if you need to"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://datahubproject.io/docs/metadata-modeling/extending-the-metadata-model"><link data-react-helmet="true" rel="alternate" href="https://datahubproject.io/docs/metadata-modeling/extending-the-metadata-model" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://datahubproject.io/docs/metadata-modeling/extending-the-metadata-model" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.1de1be40.css">
<link rel="preload" href="/assets/js/runtime~main.a2b4e74c.js" as="script">
<link rel="preload" href="/assets/js/main.e4bc3f98.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo-color.png" alt="DataHub Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo-dark.png" alt="DataHub Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">DataHub</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/docs/demo">Demo</a><a href="https://slack.datahubproject.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/linkedin/datahub" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a class="navbar__item navbar__link navbar-saas-button button button--primary" href="/docs/saas">SaaS</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">üåû</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo-color.png" alt="DataHub Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo-dark.png" alt="DataHub Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">DataHub</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/demo">Demo</a></li><li class="menu__list-item"><a href="https://slack.datahubproject.io" target="_blank" rel="noopener noreferrer" class="menu__link"><span>Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a href="https://github.com/linkedin/datahub" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a class="menu__link navbar-saas-button button button--primary" href="/docs/saas">SaaS</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu menu--responsive thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">DataHub</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/features">Features</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/roadmap">Roadmap</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/contributing">Contributing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/demo">Demo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/saas">SaaS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/releases">Releases</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/quickstart">Quickstart Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/debugging">Debugging Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion">Metadata Ingestion</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Architecture</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/architecture/architecture">Architecture Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/architecture/metadata-ingestion">Metadata Ingestion Architecture</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/architecture/metadata-serving">Serving Architecture</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Ingestion Home</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion">Metadata Ingestion</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Sources</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/source_docs/athena">Athena</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/source_docs/bigquery">BigQuery</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/source_docs/dbt">dbt</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/source_docs/druid">Druid</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/source_docs/feast">Feast</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/source_docs/file">File</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/source_docs/glue">Glue</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/source_docs/hive">Hive</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/source_docs/kafka-connect">Kafka Connect</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/source_docs/kafka">Kafka Metadata</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/source_docs/ldap">LDAP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/source_docs/looker">Looker dashboards</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/source_docs/lookml">LookML</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/source_docs/mongodb">MongoDB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/source_docs/mssql">Microsoft SQL Server</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/source_docs/mysql">MySQL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/source_docs/oracle">Oracle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/source_docs/postgres">PostgreSQL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/source_docs/redshift">Redshift</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/source_docs/sagemaker">SageMaker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/source_docs/snowflake">Snowflake</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/source_docs/sql_profiles">SQL Profiles</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/source_docs/sqlalchemy">Other SQLAlchemy databases</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/source_docs/superset">Superset</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Sinks</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/sink_docs/console">Console</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/sink_docs/datahub">DataHub</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/sink_docs/file">File</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Metadata Modeling</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/metadata-modeling/metadata-model">The Metadata Model</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/metadata-modeling/extending-the-metadata-model">Extending the Metadata Model</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Developer Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/developers">Developer&#x27;s Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docker/development">Using Docker Images During Development</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/adding-source">Adding a Metadata Ingestion Source</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/s3-ingestion">Ingesting files from S3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/transformers">Using transformers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how/auth/jaas">JaaS Authentication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how/auth/sso/configure-oidc-react">OIDC Authentication in React</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how/auth/sso/configure-oidc-react-google">Configuring Google Authentication for React App (OIDC)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how/auth/sso/configure-oidc-react-okta">Configuring Okta Authentication for React App (OIDC)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how/restore-indices">Restoring Search and Graph Indices from Local Database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how/extract-container-logs">How to Extract Logs from DataHub Containers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how/delete-metadata">Removing Metadata from DataHub</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/datahub-web-react/src/app/analytics">React Analytics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion/developing">Developing on Metadata Ingestion</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Components</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/datahub-web-react">React App</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/datahub-frontend">Frontend</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/datahub-graphql-core">GraphQL Core</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gms">Generalized Metadata Store (GMS)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/datahub-gms-graphql-service">GMS GraphQL Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-jobs/mae-consumer-job">MetadataAuditEvent (MAE) Consumer Job</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-jobs/mce-consumer-job">MetadataChangeEvent (MCE) Consumer Job</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Advanced Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/advanced/no-code-modeling">No Code Metadata</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/advanced/aspect-versioning">Aspect Versioning</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/advanced/es-7-upgrade">Elasticsearch upgrade from 5.6.8 to 7.9.3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/advanced/high-cardinality">High Cardinality Relationships</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how/scsi-onboarding-guide">Strongly Consistent Secondary Index</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/advanced/no-code-upgrade">No Code Upgrade (In-Place Migration Guide)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how/migrating-graph-service-implementation">Migrate Graph Service Implementation to Elasticsearch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/advanced/mcp-mcl">MetadataChangeProposal &amp; MetadataChangeLog Events</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Deployment</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how/kafka-config">Configuring Kafka</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docker">Deploying with Docker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deploy/kubernetes">Deploying with Kubernetes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docker/datahub-upgrade">Upgrade Docker Image</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deploy/aws">Deploying to AWS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/deploy/gcp">Deploying to GCP</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Community</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/slack">Slack</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/links">Articles &amp; Talks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/townhalls">Town Halls</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/townhall-history">Town Hall History</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/code_of_conduct">Contributor Covenant Code of Conduct</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/rfc">RFC Process</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">RFCs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/rfc/active/1778-dashboards">Dashboards</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/rfc/active/1812-ml_models">Machine Learning Models</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/rfc/active/1820-azkaban-flow-job">Azkaban Flows and Jobs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/rfc/active/1841-lineage/field_level_lineage">RFC - Field Level Lineage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/rfc/active/1842-business_glossary">Business Glossary</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/rfc/active/2042-graphql_frontend/queries">GraphQL Frontend (Part 1)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/rfc/active/2055-react-app">Proposal to Incubate a new React Application</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/rfc/active/tags">Tags</a></li></ul></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="markdown"><header><h1 class="h1Heading_27L5">Extending the Metadata Model</h1></header><p>You can extend the metadata model by either creating a new Entity or extending an existing one. Unsure if you need to
create a new entity or add an aspect to an existing entity? Read <a href="/docs/metadata-modeling/metadata-model">metadata-model</a> to understand
these two concepts prior to making changes.</p><p>We will outline what the experience of adding a new Entity should look like through a real example of adding the
Dashboard Entity. If you want to extend an existing Entity, you can skip directly to Step 4.</p><p>At a high level, an entity is made up of</p><ol><li>a union of Aspects, or bundles of related metadata,</li><li>a Key Aspect, which uniquely identifies an instance of an entity,</li><li>A snapshot, which pairs a group of aspects with a serialized key, or urn.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="defining-an-entity"></a>Defining an Entity<a class="hash-link" href="#defining-an-entity" title="Direct link to heading">#</a></h2><p>Now we&#x27;ll walk through the steps required to create, ingest, and view your extensions to the metadata model. We will use
the existing &quot;Dashboard&quot; entity for purposes of illustration.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="step-1-define-the-entity-key-aspect"></a>Step 1: Define the Entity Key Aspect<a class="hash-link" href="#step-1-define-the-entity-key-aspect" title="Direct link to heading">#</a></h3><p>A key represents the fields that uniquely identify the entity. For those familiar with DataHub‚Äôs legacy architecture,
these fields were previously part of the Urn Java Class that was defined for each entity.</p><p>This struct will be used to generate a serialized string key, represented by an Urn. Each field in the key struct will
be converted into a single part of the Urn&#x27;s tuple, in the order they are defined.</p><p>Let‚Äôs define a Key aspect for our new Dashboard entity.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">namespace com.linkedin.metadata.key</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/**</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> * Key for a Dashboard</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> */</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">@Aspect = {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;name&quot;: &quot;dashboardKey&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">record DashboardKey {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  * The name of the dashboard tool such as looker, redash etc.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  */</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @Searchable = {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  dashboardTool: string</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  * Unique id for the dashboard. This id should be globally unique for a dashboarding tool even when there are multiple deployments of it. As an example, dashboard URL could be used here for Looker such as &#x27;looker.linkedin.com/dashboards/1234&#x27;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  */</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  dashboardId: string</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The Urn representation of the Key shown above would be:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">urn:li:dashboard:(&lt;tool&gt;,&lt;id&gt;)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Because they are aspects, keys need to be annotated with an @Aspect annotation, This instructs DataHub that this struct
can be a part of.</p><p>The key can also be annotated with the two index annotations: @Searchable and @Relationship. This instructs DataHub
infra to use the fields in the key to create relationships and index fields for search. See Step 4 for more details on
the annotation model.</p><p><strong>Constraints</strong>: Note that each field in a Key Aspect MUST be of String or Enum type.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="step-2-define-custom-aspects"></a>Step 2: Define custom aspects<a class="hash-link" href="#step-2-define-custom-aspects" title="Direct link to heading">#</a></h3><p>Some aspects, like Ownership and GlobalTags, are reusable across entities. They can be included in an entity‚Äôs set of
aspects freely. To include attributes that are not included in an existing Aspect, a new Aspect must be created.</p><p>Let‚Äôs look at the DashboardInfo aspect as an example of what goes into a new aspect.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">namespace com.linkedin.dashboard</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import com.linkedin.common.AccessLevel</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import com.linkedin.common.ChangeAuditStamps</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import com.linkedin.common.ChartUrn</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import com.linkedin.common.Time</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import com.linkedin.common.Url</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import com.linkedin.common.CustomProperties</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import com.linkedin.common.ExternalReference</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/**</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> * Information about a dashboard</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> */</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">@Aspect = {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;name&quot;: &quot;dashboardInfo&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">record DashboardInfo includes CustomProperties, ExternalReference {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   * Title of the dashboard</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @Searchable = {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;fieldType&quot;: &quot;TEXT_WITH_PARTIAL_MATCHING&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;queryByDefault&quot;: true,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;enableAutocomplete&quot;: true,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;boostScore&quot;: 10.0</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  title: string</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   * Detailed description about the dashboard</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @Searchable = {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;fieldType&quot;: &quot;TEXT&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;queryByDefault&quot;: true,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;hasValuesFieldName&quot;: &quot;hasDescription&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  description: string</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   * Charts in a dashboard</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @Relationship = {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;/*&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;name&quot;: &quot;Contains&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;entityTypes&quot;: [ &quot;chart&quot; ]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  charts: array[ChartUrn] = [ ]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   * Captures information about who created/last modified/deleted this dashboard and when</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  lastModified: ChangeAuditStamps</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   * URL for the dashboard. This could be used as an external link on DataHub to allow users access/view the dashboard</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  dashboardUrl: optional Url</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   * Access level for the dashboard</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @Searchable = {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;fieldType&quot;: &quot;KEYWORD&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;addToFilters&quot;: true</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  access: optional AccessLevel</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   * The time when this dashboard last refreshed</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  lastRefreshed: optional Time</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The Aspect has four key components: its properties, the @Aspect annotation, the @Searchable annotation and the
@Relationship annotation. Let‚Äôs break down each of these.</p><ul><li>The Aspect‚Äôs properties. The record‚Äôs properties can be declared as a field on the record, or by including another
record in the Aspect‚Äôs definition (<code>record DashboardInfo includes CustomProperties, ExternalReference {</code>). Properties
can be defined as PDL primitives, enums, records, or collections (
see <a href="https://linkedin.github.io/rest.li/pdl_schema" target="_blank" rel="noopener noreferrer">pdl schema documentation</a>)
references to other entities, of type Urn or optionally <code>&lt;Entity&gt;Urn</code></li><li>The @Aspect annotation. This is used to declare that the record is an Aspect and can be included in an entity‚Äôs
Snapshot. Unlike the other two annotations, @Aspect is applied to the entire record rather than a specific field.
Note, you can mark an aspect as a timeseries aspect. Check out
this <a href="/docs/metadata-modeling/metadata-model#timeseries-aspects">doc</a> for details.</li><li>The @Searchable annotation. This annotation can be applied to any primitive field to indicate that it should be
indexed in Elasticsearch and can be searched on. For a complete guide on using the search annotation, see the
annotation docs further down in this document.</li><li>The @Relationship annotations. These annotations create edges between the Snapshot‚Äôs Urn and the destination of the
annotated field when the snapshots are ingested. @Relationship annotations must be applied to fields of type Urn. In
the case of DashboardInfo, the <code>charts</code> field is an Array of Urns. The @Relationship annotation cannot be applied
directly to an array of Urns. That‚Äôs why you see the use of an Annotation override (`‚Äù/*‚Äù:) to apply the @Relationship
annotation to the Urn directly. Read more about overrides in the annotation docs further down on this page.</li></ul><p>After you create your Aspect, you need to add it into the Aspect Union of each entity you‚Äôd like to attach the aspect
to. Refer back to Step 2 for how Aspects are added to Aspect Unions.</p><p><strong>Constraints</strong>: Note that all aspects MUST be of type Record.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="step-3-define-the-entity-aspect-union"></a>Step 3: Define the Entity Aspect Union<a class="hash-link" href="#step-3-define-the-entity-aspect-union" title="Direct link to heading">#</a></h3><p>You must create an Aspect union to define what aspects an Entity is associated with. An aspect represents a related
record of metadata about an entity. Any record appearing in the Union should be annotated with @Aspect.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">namespace com.linkedin.metadata.aspect</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import com.linkedin.metadata.key.DashboardKey</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import com.linkedin.dashboard.DashboardInfo</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import com.linkedin.common.Ownership</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import com.linkedin.common.Status</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import com.linkedin.common.GlobalTags</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import com.linkedin.common.BrowsePaths</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/**</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> * A union of all supported metadata aspects for a Dashboard</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> */</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">typeref DashboardAspect = union[</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    DashboardKey,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    DashboardInfo,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Ownership,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Status,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    GlobalTags,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    BrowsePaths</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">]</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The first aspect will be by convention the Entity‚Äôs key aspect. Other aspects can be Dashboard specific, like
DashboardInfo, or common, such as Ownership. This union can be extended over time as you expand the metadata model. You
can include any existing type with the @Aspect annotation in your entity‚Äôs aspect union or create new ones- Step 4 goes
into detail about how to create a new Aspect.</p><p>To extend an existing entity, simply add your new Aspect to the Entity&#x27;s list of aspect via the Aspect Union model.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="step-4-define-an-entity-snapshot"></a>Step 4: Define an Entity Snapshot<a class="hash-link" href="#step-4-define-an-entity-snapshot" title="Direct link to heading">#</a></h3><p>The snapshot describes the format of how an entity is serialized for read and write operations to GMS, the generic
metadata store. All snapshots have two fields, <code>urn</code> of type <code>Urn</code> and <code>snapshot</code>
of type <code>union[Aspect1, Aspect2, ...]</code>.</p><p>The snapshot needs an <code>@Entity</code> annotation with the entity‚Äôs name. The name is used for specifying entity type when
searching, using autocomplete, etc.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">namespace com.linkedin.metadata.snapshot</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import com.linkedin.common.DashboardUrn</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import com.linkedin.metadata.aspect.DashboardAspect</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/**</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> * A metadata snapshot for a specific Dashboard entity.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> */</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">@Entity = {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;name&quot;: &quot;dashboard&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">record DashboardSnapshot {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   * URN for the entity the metadata snapshot is associated with.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  urn: DashboardUrn</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   * The list of metadata aspects associated with the dashboard.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  aspects: array[DashboardAspect]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>If you&#x27;re extending an existing Entity, you can skip this step.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="step-5-re-build-datahub-to-have-access-to-your-new-or-updated-entity"></a>Step 5: Re-build DataHub to have access to your new or updated entity<a class="hash-link" href="#step-5-re-build-datahub-to-have-access-to-your-new-or-updated-entity" title="Direct link to heading">#</a></h3><p>If you have updated any existing types or see an <code>Incompatible changes</code> warning when building, you will need to run
<code>./gradlew :gms:impl:build -Prest.model.compatibility=ignore</code>
before running <code>build</code>.</p><p>Then, run <code>./gradlew build</code> from the repository root to rebuild Datahub with access to your new entity.</p><p>Then, re-deploy gms, mae-consumer and mce-consumer (see <a href="/docs/docker">docker development</a> for details on how
to deploy during development). This will allow Datahub to read and write Snapshots of your new entity, along with server
search and graph queries for that entity type.</p><p>To emit snapshots to ingest from the Datahub CLI tool, first install datahub cli
locally <a href="/docs/metadata-ingestion/developing">following the instructions here</a>. <code>./gradlew build</code> generated the avro
schemas your local ingestion cli tool uses earlier. After following the developing guide, you should be able to emit
your new event using the local datahub cli.</p><p>Now you are ready to start ingesting metadata for your new entity!</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="optional-step-6-extend-the-datahub-frontend-to-view-your-entity-in-graphql--react"></a>(Optional) Step 6: Extend the DataHub frontend to view your entity in GraphQL &amp; React<a class="hash-link" href="#optional-step-6-extend-the-datahub-frontend-to-view-your-entity-in-graphql--react" title="Direct link to heading">#</a></h3><p>At the moment, custom React and Grapqhl code needs to be written to view your entity in GraphQL or React. For
instructions on how to start extending the GraphQL graph, see <a href="/docs/datahub-graphql-core">graphql docs</a>. Once
you‚Äôve done that, you can follow the guide <a href="/docs/datahub-web-react">here</a> to add your entity into the React
UI.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="metadata-annotations"></a>Metadata Annotations<a class="hash-link" href="#metadata-annotations" title="Direct link to heading">#</a></h2><p>There are four core annotations that DataHub recognizes.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="entity"></a>@Entity<a class="hash-link" href="#entity" title="Direct link to heading">#</a></h4><p>This annotation is applied to each Entity Snapshot record, such as DashboardSnapshot.pdl. Each one that is included in
the root Snapshot.pdl model must have this annotation.</p><p>It takes the following parameters:</p><ul><li><strong>name</strong>: string - A common name used to identify the entity. Must be unique among all entities DataHub is aware of.</li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="example"></a>Example<a class="hash-link" href="#example" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly aidl"><pre tabindex="0" class="prism-code language-aidl codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">@Entity = {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // name used when referring to the entity in APIs.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  String name;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="aspect"></a>@Aspect<a class="hash-link" href="#aspect" title="Direct link to heading">#</a></h4><p>This annotation is applied to each Aspect record, such as DashboardInfo.pdl. Each aspect that is included in an entity‚Äôs
AspectUnion must have this annotation.</p><p>It takes the following parameters:</p><ul><li><strong>name</strong>: string - A common name used to identify the Aspect. Must be unique among all aspects DataHub is aware of.</li><li><strong>type</strong>: string (optional) - set to &quot;timeseries&quot; to mark this aspect as timeseries. Check out
this <a href="/docs/metadata-modeling/metadata-model#timeseries-aspects">doc</a> for details.</li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="example-1"></a>Example<a class="hash-link" href="#example-1" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly aidl"><pre tabindex="0" class="prism-code language-aidl codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">@Aspect = {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // name used when referring to the aspect in APIs.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  String name;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="searchable"></a>@Searchable<a class="hash-link" href="#searchable" title="Direct link to heading">#</a></h4><p>This annotation is applied to fields inside an Aspect. It instructs DataHub to index the field so it can be retrieved
via the search APIs.</p><p>It takes the following parameters:</p><ul><li><p><strong>fieldType</strong>: string - The settings for how each field is indexed is defined by the field type. Each field type is
associated with a set of analyzers Elasticsearch will use to tokenize the field. Such sets are defined in the
MappingsBuider, which generates the mappings for the index for each entity given the fields with the search
annotations. To customize the set of analyzers used to index a certain field, you must add a new field type and define
the set of mappings to be applied in the MappingsBuilder.</p><p>Thus far, we have implemented 8 fieldTypes:</p><ol><li><p><em>KEYWORD</em> - Short text fields that only support exact matches, often used only for filtering</p></li><li><p><em>TEXT</em> - Text fields delimited by spaces/slashes/periods. Default field type for string variables.</p></li><li><p><em>TEXT_PARTIAL</em> - Text fields delimited by spaces/slashes/periods with partial matching support. Note, partial
matching is expensive, so this field type should not be applied to fields with long values (like description)</p></li><li><p><em>BROWSE_PATH</em> - Field type for browse paths. Applies specific mappings for slash delimited paths.</p></li><li><p><em>URN</em> - Urn fields where each sub-component inside the urn is indexed. For instance, for a data platform urn like
&quot;urn:li:dataplatform:kafka&quot;, it will index the platform name &quot;kafka&quot; and ignore the common components</p></li><li><p><em>URN_PARTIAL</em> - Urn fields where each sub-component inside the urn is indexed with partial matching support.</p></li><li><p><em>BOOLEAN</em> - Boolean fields used for filtering.</p></li><li><p><em>COUNT</em> - Count fields used for filtering.</p></li></ol></li><li><p><strong>fieldName</strong>: string (optional) - The name of the field in search index document. Defaults to the field name where
the annotation resides.</p></li><li><p><strong>queryByDefault</strong>: boolean (optional) - Whether we should match the field for the default search query. True by
default for text and urn fields.</p></li><li><p><strong>enableAutocomplete</strong>: boolean (optional) - Whether we should use the field for autocomplete. Defaults to false</p></li><li><p><strong>addToFilters</strong>: boolean (optional) - Whether or not to add field to filters. Defaults to false</p></li><li><p><strong>boostScore</strong>: double (optional) - Boost multiplier to the match score. Matches on fields with higher boost score
ranks higher.</p></li><li><p><strong>hasValuesFieldName</strong>: string (optional) - If set, add an index field of the given name that checks whether the field
exists</p></li><li><p><strong>numValuesFieldName</strong>: string (optional) - If set, add an index field of the given name that checks the number of
elements</p></li><li><p><strong>weightsPerFieldValue</strong>: map[object, double] (optional) - Weights to apply to score for a given value.</p></li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="example-2"></a>Example<a class="hash-link" href="#example-2" title="Direct link to heading">#</a></h5><p>Let‚Äôs take a look at a real world example using the <code>title</code> field of <code>DashboardInfo.pdl</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly aidl"><pre tabindex="0" class="prism-code language-aidl codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">record DashboardInfo {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> /**</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   * Title of the dashboard</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @Searchable = {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;fieldType&quot;: &quot;TEXT_PARTIAL&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;enableAutocomplete&quot;: true,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;boostScore&quot;: 10.0</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  title: string</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ....</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This annotation is saying that we want to index the title field in Elasticsearch. We want to support partial matches on
the title, so queries for <code>Cust</code> should return a Dashboard with the title <code>Customers</code>. <code>enableAutocomplete</code> is set to
true, meaning that we can autocomplete on this field when typing into the search bar. Finally, a boostScore of 10 is
provided, meaning that we should prioritize matches to title over matches to other fields, such as description, when
ranking.</p><p>Now, when Datahub ingests Dashboards, it will index the Dashboard‚Äôs title in Elasticsearch. When a user searches for
Dashboards, that query will be used to search on the title index and matching Dashboards will be returned.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="relationship"></a>@Relationship<a class="hash-link" href="#relationship" title="Direct link to heading">#</a></h4><p>This annotation is applied to fields inside an Aspect. This annotation creates edges between an Entity‚Äôs Urn and the
destination of the annotated field when the Entity is ingested. @Relationship annotations must be applied to fields of
type Urn.</p><p>It takes the following parameters:</p><ul><li><strong>name</strong>: string - A name used to identify the Relationship type.</li><li><strong>entityTypes</strong>: array[string] (Optional) - A list of entity types that are valid values for the foreign-key
relationship field.</li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="example-3"></a>Example<a class="hash-link" href="#example-3" title="Direct link to heading">#</a></h5><p>Let‚Äôs take a look at a real world example to see how this annotation is used. The <code>Owner.pdl</code> struct is referenced by
the <code>Ownership.pdl</code> aspect. <code>Owned.pdl</code> contains a relationship to a CorpUser or CorpGroup:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">namespace com.linkedin.common</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/**</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> * Ownership information</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> */</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">record Owner {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   * Owner URN, e.g. urn:li:corpuser:ldap, urn:li:corpGroup:group_name, and urn:li:multiProduct:mp_name</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @Relationship = {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;name&quot;: &quot;OwnedBy&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;entityTypes&quot;: [ &quot;corpUser&quot;, &quot;corpGroup&quot; ]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  owner: Urn</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ...</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This annotation says that when we ingest an Entity with an OwnershipAspect, DataHub will create an OwnedBy relationship
between that entity and the CorpUser or CorpGroup who owns it. This will be queryable using the Relationships resource
in both the forward and inverse directions.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="annotating-collections--annotation-overrides"></a>Annotating Collections &amp; Annotation Overrides<a class="hash-link" href="#annotating-collections--annotation-overrides" title="Direct link to heading">#</a></h4><p>You will not always be able to apply annotations to a primitive field directly. This may be because the field is wrapped
in an Array, or because the field is part of a shared struct that many entities reference. In these cases, you need to
use annotation overrides. An override is done by specifying a fieldPath to the target field inside the annotation, like
so:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> /**</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   * Charts in a dashboard</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @Relationship = {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;/*&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;name&quot;: &quot;Contains&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;entityTypes&quot;: [ &quot;chart&quot; ]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  charts: array[ChartUrn] = [ ]</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This override applies the relationship annotation to each element in the Array, rather than the array itself. This
allows a unique Relationship to be created for between the Dashboard and each of its charts.</p><p>Another example can be seen in the case of tags. In this case, TagAssociation.pdl has a @Searchable annotation:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> @Searchable = {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;fieldName&quot;: &quot;tags&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;fieldType&quot;: &quot;URN_WITH_PARTIAL_MATCHING&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;queryByDefault&quot;: true,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;hasValuesFieldName&quot;: &quot;hasTags&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  tag: TagUrn</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>At the same time, SchemaField overrides that annotation to allow for searching for tags applied to schema fields
specifically. To do this, it overrides the Searchable annotation applied to the <code>tag</code> field of <code>TagAssociation</code> and
replaces it with its own- this has a different boostScore and a different fieldName.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> /**</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   * Tags associated with the field</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @Searchable = {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;/tags/*/tag&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;fieldName&quot;: &quot;fieldTags&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;fieldType&quot;: &quot;URN_WITH_PARTIAL_MATCHING&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;queryByDefault&quot;: true,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;boostScore&quot;: 0.5</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  globalTags: optional GlobalTags</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>As a result, you can issue a query specifically for tags on Schema Fields via <code>fieldTags:&lt;tag_name&gt;</code> or tags directly
applied to an entity via <code>tags:&lt;tag_name&gt;</code>. Since both have <code>queryByDefault</code> set to true, you can also search for
entities with either of these properties just by searching for the tag name.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/linkedin/datahub/blob/master/docs/modeling/extending-the-metadata-model.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/metadata-modeling/metadata-model"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ The Metadata Model</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/developers"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Developer&#x27;s Guide ¬ª</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#defining-an-entity" class="table-of-contents__link">Defining an Entity</a><ul><li><a href="#step-1-define-the-entity-key-aspect" class="table-of-contents__link">Step 1: Define the Entity Key Aspect</a></li><li><a href="#step-2-define-custom-aspects" class="table-of-contents__link">Step 2: Define custom aspects</a></li><li><a href="#step-3-define-the-entity-aspect-union" class="table-of-contents__link">Step 3: Define the Entity Aspect Union</a></li><li><a href="#step-4-define-an-entity-snapshot" class="table-of-contents__link">Step 4: Define an Entity Snapshot</a></li><li><a href="#step-5-re-build-datahub-to-have-access-to-your-new-or-updated-entity" class="table-of-contents__link">Step 5: Re-build DataHub to have access to your new or updated entity</a></li><li><a href="#optional-step-6-extend-the-datahub-frontend-to-view-your-entity-in-graphql--react" class="table-of-contents__link">(Optional) Step 6: Extend the DataHub frontend to view your entity in GraphQL &amp; React</a></li></ul></li><li><a href="#metadata-annotations" class="table-of-contents__link">Metadata Annotations</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/quickstart">Quickstart</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/features">Features</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/faq">FAQs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://slack.datahubproject.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UC3qFQC5IiwR5fvWEqi_tJ5w" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/townhalls">Town Halls</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/#adoption">Adoption</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/demo">Demo</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/roadmap">Roadmap</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/contributing">Contributing</a></li><li class="footer__item"><a href="https://github.com/linkedin/datahub" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2015-2021 DataHub Project Authors.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.a2b4e74c.js"></script>
<script src="/assets/js/main.e4bc3f98.js"></script>
</body>
</html>